<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_superfasf_combat</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>-1</persistent>
  <parentName>obj_monsterBattlePrototype</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>i = 0;
aa = 0;
ab = 0;
ac = 0;
j = 0;
k = 0;

spdd = 0;
dir = 0;

flag = 0;

volume = 0;

animation = 0;

ach = 0;
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_inherited();
name = "SUPER FASF!!!";
image_speed =0;
image_xscale=3;
image_yscale=3;
image_alpha=0.1;
flag=0;
x=400;
y=200;

//sound_loop(fasf_battle_music);
audio_loopmusic_volume(scrAudioGetID("BGMsupfasf"));
//sound_stop_all();


alarm[3]=100; //orginal 150;
volume=10000;
//SS_SetSoundVol(global.BGMsupfasf,volume);
FMODInstanceSetVolume(scrAudioGetID("BGMsupfasf"),volume / 10000);
animation=1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Back from avoidance
instance_create(0,0,obj_continue_controller_of_superfasf);

visible=1;
x=400;
y=200;
image_speed=0;
image_index=0;
sound_fix(snd_letsgo);
alarm[10]=1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Back from avoidance room - Volume
//SS_SetSoundVol(global.BGMsupfasf,volume)
FMODInstanceSetVolume(scrAudioGetID("BGMsupfasf"), volume / 10000);
if(volume&lt;=10000)
{
    volume+=1000;
    alarm[10]=2;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Volume
if(volume&gt;200)
{
    //SS_SetSoundVol(global.BGMsupfasf,volume);
    FMODInstanceSetVolume(scrAudioGetID("BGMsupfasf"), volume / 10000);
    volume-=150;
    alarm[7]=1;
}
else if(player_is_alive())
{
    alarm[3]=0;
    alarm[4]=0;
    alarm[5]=0;
    alarm[6]=0;
    //shoot =false;
    visible=0;
    x=100;
    y=100;
    image_speed = 1/8;
    //SS_PauseSound(global.BGMsupfasf);
    FMODInstanceSetPaused(scrAudioGetID("BGMsupfasf"), true);
    room_goto(Roomavoidence);
    //transition_steps = 20;
    //transition_kind=21;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="6">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//此处fasf无位移
//vspeed=2;
//speed=2;
//direction=270;
//y=y+4;
//if(shoot)
//{
ac=instance_create(x,y,obj_supfasfbullet);
ac.direction=irandom(359);
ac.speed=irandom(4)+6
ac.twist=irandom(3);
ac.image_xscale=0.5;
ac.image_yscale=0.5;
alarm[6]=5;
i=0;
//}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_speed=2;
image_blend=c_red;
sound_fix(snd_letsgo);

vspeed=2;
if(flag==1 or flag==2)
{
    
    k=0;
    //shoot =true;
    alarm[6]=50;
    //alarm[7]=100;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_speed=0.2;
if(j&lt;40)
{
    j+=1;
    ab=instance_create(x,y,obj_supfasfbullet);
    ab.speed=4+spdd;
    ab.direction=270+dir;
    ab.image_xscale=0.5;
    ab.image_yscale=0.5;
    spdd+=0.1;
    dir+=65;
    alarm[4]=60*1/j;
}
else
{
k=0;i=0;
image_speed=0;image_index=0;
alarm[5]=100;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(i&lt;4)
{
    i+=1;
    aa=instance_create(x,y,obj_supfasfbullet);
    aa.direction=point_direction(x,y,player.x,player.y);
    aa.speed=8;
    aa.twist=0;
    aa.image_xscale=0.5;aa.image_yscale=0.5;
    alarm[3]=50;
    sound_fix(snd_ha);
    image_blend=c_white;
}
else
{
    if(i==4)
    {
        i+=1;
        aa=instance_create(x,y,obj_supfasfbullet);
        aa.direction=point_direction(x,y,player.x,player.y);
        aa.speed=12;
        aa.twist=1;
        alarm[3]=50;
        sound_fix(snd_oowa);
    }
    else
    {
        if(i&gt;4)
        {
            j=0;k=0;
            image_speed=0;
            image_index=0;
            alarm[4]=100;
        }
    }
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(image_alpha&lt;=1 &amp;&amp; flag==0)
{
    image_alpha+=0.01;
}
else
{
if(flag==0)
    flag=1;
}
if(animation==0)
  {

    if(point_distance(x,y,targetX, targetY) &lt;(spd/2) )
    {
        x = targetX;
        y = targetY;
        hspeed = 0;
        vspeed = 0;
        animation = 1;
        alarm[4] = 1;
    }
    else
    {

        move_towards_point(targetX, targetY, spd);
    }
   
    
}
//此处为战斗场景按Rfasf不消失的解决办法（失败）
/*
if(room!=Roomavoidence  or room!=battlefasfroom)
{
instance_destroy();
}
*/
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Wrap 

var _margin = 32;
var _warped_vertically = false;

if x != median(x, -_margin - 1, 800 + _margin + 1)
{
    x = modwrap(x, -_margin, 800+_margin);
}

if y != median(y, -_margin - 1, 608 + _margin + 1)
{
    y = modwrap(y, -_margin, 608+_margin);
    _warped_vertically = true;
}

if _warped_vertically
{
    if(instance_exists(obj_continue_controller_of_superfasf) &amp;&amp; obj_continue_controller_of_superfasf.pp &amp;&amp; y &lt; 64)
    {    
        obj_continue_controller_of_superfasf.alarm[3] = 3;
    }
    // Reset
    _warped_vertically = false;
}
//zbjkvnz.,nv,kjnb
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="bullet">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_inherited();
if(flag==1)
{
    sound_fix(snd_iyo);
    alarm[6]=0;
    x=400;
    y=200;
    vspeed = 0;
    image_speed = 0;
    image_index = 0;
    image_blend = c_white;
    i=0;j=0;
    flag=2;
    alarm[3]=100;
}
else
{
    if(flag==2)
    {
        flag=3;
        sound_fix(snd_iyo);
        alarm[7]=1;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="25">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(ach &amp;&amp; player_is_alive())
{
    if(!global.achievements[49])
    {
        var ch = instance_create(0,608,obj_achievements);
        ch.index = 49;
        global.achievements[49] = true;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// This code is broken in GMS (See 2nd block in Step Event)
/*
//move_wrap(true, true, 32);
x = modwrap(x, 32, 800-32);
//var _warped_vertically = false;
/*if y &gt; 608
{
    print("wraped vertically");
    y = 10;
    _warped_vertically = true;
}*/
/*
y = modwrap(y, 0, 608);
//if _warped_vertically
{
    if(instance_exists(obj_continue_controller_of_superfasf) &amp;&amp; obj_continue_controller_of_superfasf.pp &amp;&amp; y &lt; 64)
    {    
        obj_continue_controller_of_superfasf.alarm[3] = 8;
    }
}
//zbjkvnz.,nv,kjnb
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
